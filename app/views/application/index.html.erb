<%
    c_id = 'cd521b6a922f4f24f8a6214259923770'
    r_uri = 'http://127.0.0.1/authenticate/callback'
    #r_uri = 'http://127.0.0.1/'
    
    btn_url="https://soundcloud.com/connect?client_id=#{c_id}&redirect_uri=#{r_uri}&response_type=code_and_token&scope=non-expiring&display=popup'" 
   
    #soundcloudxperiment.herokuapp.com
%>
<% content_for :extra_js do %>    
    <%= javascript_include_tag 'index' %>
<% end %>

<% content_for :css do %>
    <%= stylesheet_link_tag 'index' %>
<% end %>

<div id="mainView">
   
</div>

<script id="header-template" type="text/x-handlebars-template">
   <div id="user-data">
      Hello, {{username}}!
   <a id="disconnectBtn" class="button scBackground" data-role="button">Disconnect</a>
</script>

<script id="index-template" type="text/x-handlebars-template">
  {{#if isConnected}}
    <div id="menu">
        <ul class="listView" id="playlists-entries" data-role="listview" data-inset="true">
            <li><a href="/playlists">Playlists</a></li>
            <li><a href="#search/">Search</a></li>
        </ul>
    </div>
  {{else}}
      <a id="connectBtn" class="button scBackground" data-role="button">Connect!</a>
  {{/if}}
</script>

<script id="search-template" type="text/x-handlebars-template">
    <input type="search" name="password" id="searchInput" value="" />
    <br/>
    <ul id="searchResults">
    </ul>
</script>

<script id="track-template" type="text/x-handlebars-template">
    <a class="track-entry" data-role="button"
      {{#if this.selected }}
         data-theme="b"
      {{/if}}
    >
       <div class="play-button">
           {{#if this.streamable}}
               {{#if playing}}
                  <div class="ui-icon-pause"></div>
               {{else}}
                  <div class="ui-icon-play"></div>
               {{/if}}
           {{/if}}
       </div>
       <div class="track-details">
          <div class="trackTitle">{{this.title}}</div>
          <div class="artistName">{{this.user.username}}</div>
       </div>
    </a>
</script>

<script id="searchFooter-template" type="text/x-handlebars-template">
   <div data-role="footer" class="ui-bar" data-position='fixed'>
      <a href="index.html" data-role="button" data-icon="gear">Tag</a>
      <a href="index.html" data-role="button" data-icon="plus">Add to Playlist</a>
   </div>
</script>

